<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Contact — Condo Database</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    .readonly {
      background: #f7f7f7;
      color: #333;
    }
    .row { display:flex; gap:12px; flex-wrap:wrap; }
    .row > div { flex:1 1 260px; min-width:260px; }
    .hint { color:#666; font-size:.9rem; margin:-6px 0 10px; }
  </style>
</head>
<body>

  <!-- Header (single, consistent across the site) -->
  <header class="site-header">
    <div class="container inner">
      <a class="brand" href="/">
        <img class="logo" src="images/logo.png" alt="Condo Database logo">
        <span class="title">Condo Database</span>
      </a>
      <nav class="nav">
        <a href="/listings.html">Listings</a>
        <a href="/contact.html" aria-current="page">Contact</a>
        <a href="/admin/">Admin</a>
      </nav>
    </div>
  </header>

  <!-- Banner -->
  <section class="hero" style="background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.35)), url('images/hero.jpg') center/cover no-repeat; color:#fff; padding:28px 20px;">
    <div class="container">
      <h1 style="margin:0 0 6px 0;">Contact Us</h1>
      <p style="margin:0; opacity:.95;">LINE, WhatsApp, phone, or email — whatever is easiest for you.</p>
    </div>
  </section>

  <!-- Contact methods + form -->
  <main class="container" style="padding:24px 20px;">
    <div style="display:flex; flex-wrap:wrap; gap:10px; margin-bottom:16px;">
      <a class="btn" href="https://line.me/R/ti/p/@vry5685n" target="_blank" rel="noopener">LINE: @vry5685n</a>
      <a class="btn" href="https://wa.me/66828553324" target="_blank" rel="noopener">WhatsApp: +66 82 855 3324</a>
      <a class="btn" href="tel:+66882553324">Call: 088-255-3324</a>
      <a class="btn" href="mailto:info@condo-database.com">info@condo-database.com</a>
    </div>

    <!-- Netlify form -->
    <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field">
      <input type="hidden" name="form-name" value="contact" />
      <!-- Spam honeypot -->
      <p style="display:none;">
        <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
      </p>

      <!-- Auto-filled from ?property=... -->
      <div class="row">
        <div>
          <label>Property (auto-filled)</label>
          <input type="text" id="propertyDisplay" class="readonly" readonly placeholder="(optional)" />
          <div class="hint">If you’re asking about a specific listing, this will be pre-filled.</div>
          <!-- Hidden copy actually submitted -->
          <input type="hidden" name="property" id="propertyHidden" />
        </div>
        <div>
          <label>Page URL</label>
          <input type="text" id="pageUrl" name="page_url" class="readonly" readonly />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Name</label>
          <input type="text" name="name" required>
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" required>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Phone / LINE ID</label>
          <input type="text" name="phone">
        </div>
      </div>

      <label>Message</label>
      <textarea name="message" id="message" rows="6" required></textarea>

      <button class="btn" type="submit">Send</button>
    </form>
  </main>

  <!-- Footer -->
  <footer class="container" style="padding:40px 20px; color:#555;">
    <strong>Condo Database</strong><br>
    Bangkok, Thailand
  </footer>

  <script>
    // Auto-fill "Property" from ?property=... and capture page URL
    (function(){
      const params = new URLSearchParams(location.search);
      const prop = params.get('property') || '';
      const display = document.getElementById('propertyDisplay');
      const hidden = document.getElementById('propertyHidden');
      const pageUrl = document.getElementById('pageUrl');
      const msg = document.getElementById('message');

      if (prop) {
        display.value = prop;
        hidden.value = prop;
        // If message is empty, help user by pre-filling a line with the property
        if (!msg.value.trim()) {
          msg.value = `I'm interested in property: ${prop}\n\n`;
        }
      }
      pageUrl.value = location.href;
    })();
  </script>
</body>
</html>
